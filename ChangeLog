2003-08-11  Andreas J. Guelzow  <aguelzow@taliesin.ca>

	* graph/plugins/plot_pie/gog-pie-prefs.c (cb_center_size_changed):
	  scale between display and storage
	(gog_ring_plot_pref): ditto
	* graph/plugins/plot_pie/gog-ring-prefs.glade: center_size spin
	  button should range from 0 to 95 in steps of 5

2003-08-09  Andreas J. Guelzow  <aguelzow@taliesin.ca>

	* graph/gog-guru.c: add correct helpfile address

2003-08-01  Morten Welinder  <terra@gnome.org>

	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_finalize): Plug
	leak.

	* graph/gog-style.c (gog_style_class_init): Plug leaks.

2003-08-01  Jody Goldberg <jody@gnome.org>

	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_draw_path) : use
	  the line characteristics, not outline.
	* graph/gog-renderer-gnome-print.c
	(gog_renderer_gnome_print_draw_path) : ditto.

	* graph/gog-theme.c (gog_themes_init) : set the line width.
	(map_area_series_solid_default) : line colour seems to start at an
	  offset to area colours.
	(map_area_series_solid_guppi) : set the line colour too.

2003-07-31  Jody Goldberg <jody@gnome.org>

	* graph/gog-series.c (gog_series_set_index) : always init the style,
	  don't be cheap.  When loading index is initialized to 0, so the
	  first series would not get styled because it did not look like
	  anything changed.

	* graph/plugins/plot_pie/gog-pie.c (gog_pie_view_render) : fix
	  interpretation of the center_size parameter.  Thanks tino.

	* graph/gog-plot.c (gog_plot_init) : copy the plot descriptor from the
	  class to the plot here for use cases that use g_object_new.
	* graph/gog-plot-engine.c (gog_plot_new_by_name) : rather than here
	  where it gets missed.

	* graph/gog-legend.c (gog_legend_parent_changed) : catch object name
	  changes in the chart and trigger an update.

	* graph/gog-graph.c (cb_graph_idle) : clear the handler before doing
	  the update so that a handler can queue an update for another object.

2003-07-30  Emmanuel Pacaud <emmanuel.pacaud@univ-poitiers.fr>

	* graph/plugins/plot_barcol/gog-line.[ch]: new. Line and Area support.
	* graph/plugins/plot_barcol/gog-1.d.[ch]: new. Defines base class for
	gog-line and gog-barcol.
	* graph/plugins/plot_barcol/plot-types.xml.in: add support for are and
	line plots.
	* graph/plugins/plot_barcol/plugin.xml.in: add are and line engines.

2003-07-19  Jody Goldberg <jody@gnome.org>

	* graph/gog-chart.c (gog_chart_get_axis) : new.

2003-07-19  Jody Goldberg <jody@gnome.org>

	* graph/plugins/plot_barcol/plot-types.xml.in : for stacked and
	  percentage set the overlap to 100.

2003-07-17  Jody Goldberg <jody@gnome.org>

	* graph/plugins/plot_barcol/gog-barcol.c : Request XY axis set.

	* graph/gog-data-set.c (gog_dataset_set_dim_internal) : always fire an
	  update.

2003-07-09  Jody Goldberg <jody@gnome.org>

	* graph/gog-object-xml.h : fix guards

2003-07-07  Jody Goldberg <jody@gnome.org>

	* graph/gog-legend.c (gog_legend_parent_changed) : chain upwards.
	* graph/gog-series.c (gog_series_parent_changed) : ditto.

2003-07-06  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* graph/plugins/plot_pie/gog-ring-prefs.glade: colour -> color

2003-07-06  Andreas J. Guelzow <aguelzow@taliesin.ca>

	* graph/plugins/plot_pie/gog-pie-prefs.glade: colour -> color

2003-07-03  Jon K Hellan  <hellan@acm.org>

	* graph/gog-style.c (init_solid_page, init_gradient_page) 
	(init_gradient_page, gog_style_editor): Turn off color combo
	tearoff behaviour in dialogs.

2003-07-02  Jody Goldberg <jody@gnome.org>

	* graph/gog-renderer.c (gog_renderer_init) : tweak the default size to
	  produce a better proportion.

	* graph/plugins/plot_pie/gog-pie.c (gog_pie_view_render) : some minor
	  cleanup.

	* graph/plugins/plot_pie/gog-pie-prefs.glade : fix units of separation
	  spinner.

2003-06-29  Jody Goldberg <jody@gnome.org>

	For Emmanuel Pacaud <emmanuel.pacaud@univ-poitiers.fr>
	* graph/plugins/plot_pie/gog-pie.c : Handle rings

2003-06-27  Jody Goldberg <jody@gnome.org>

	* graph/gog-plot.c (gog_plot_set_property) : don't allow setting
	  vary_style_by_element if the plot does not permit it in the current
	  state.
	(gog_plot_get_property) : be anal.

	* graph/plugins/plot_barcol/gog-barcol.c
	(gog_barcol_supports_vary_style_by_element) : new.

2003-06-27  Jody Goldberg <jody@gnome.org>

	* graph/gog-plot-impl.h : Add GogPlotClass::supports_vary_by_element

2003-06-26  Morten Welinder  <terra@gnome.org>

	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_draw_polygon):
	Fix gradients.

2003-06-25  Jody Goldberg <jody@gnome.org>

	* graph/gog-plot-engine.c (gog_plot_type_service_finalize) : still
	  incomplete, but the lists definitely need to be freed.

2003-06-25  Jody Goldberg <jody@gnome.org>

	* graph/gog-data-allocator.c (gog_dataset_get_type) : fix
	  cut-n-paste-o.

2003-06-25 Jean Brefort <jean.brefort@ac-dijon.fr>

	* graph/gog-renderer-gnome-print.c: use alpha channel when
	  printing gradients

2003-06-20    Jean Brefort <jean.brefort@ac-dijon.fr>

	* graph/gog-renderer-gnome-print.c (gog_renderer_gnome_print_draw_polygon):
	  unref the pixmaps

2003-06-22  Jody Goldberg <jody@gnome.org>

	* graph/plugins/plot_pie/gog-pie.c (gog_pie_plot_set_property) : vary
	  style by element handled in plot now.
	(gog_pie_plot_get_property) : ditto.
	(gog_pie_plot_cardinality) : deleted.
	(gog_pie_plot_foreach_elem) : doh!  USe the label we just calculated.
	(gog_pie_view_render) : implement general extracted slices.

	* graph/gog-theme.c (gog_theme_get_name) : new util.

	* graph/gog-style.c : Implement the hooks for serialization but have
	  not actually written them yet.

	* graph/gog-series.c (gog_series_editor) : add a notebook wrapper to
	  allow changing style and data.
	(gog_series_init) : set GogObject::use_parent_as_proxy flag.
	(gog_series_dataset_dims) new.

	* graph/gog-plot.c (gog_plot_set_property) : handle the
	  'vary_style_by_element' at this level.
	(gog_plot_get_cardinality) : ditto.

	* graph/gog-object.c (gog_object_emit_changed) : Add
	  'use_parent_as_proxy' utility to make life easier for things like
	  series that will not have individual views.  This will fire a
	  changed signal from their plots.

	* graph/gog-legend.c (gog_legend_parent_changed) : new.  ensure we get
	  updated when chart cardinality changes.
	(gog_legend_update) : new.

	* graph/gog-label.c (gog_label_editor) : fix.
	(gog_label_class_init) : fix.
	(gog_label_dims) : added to handle the extension to dataset interface.

	* graph/gog-guru.glade : remove frame wrapping the prop notebook.

	* graph/gog-guru.c (prop_notebook_set_current_page) : new util.
	  to cleanup the handling of prop pages.  Only show the border if the
	  prop page is not a notebook.  This keeps the layout visually
	  similar in both cases.
	(cb_select_prop_page) : use it here.
	(cb_attr_tree_selection_change) : and here.
	(graph_guru_type_selector_new) : remove the useless notebook wrapping
	  the type selector.  It gives us more space and forces an initial
	  selection.

	* graph/gog-graph.c (gog_graph_set_property) : add a 'theme-name'
	  property to facilitate serialization.

	* graph/gog-data-allocator.c (gog_dataset_dims) : extension to the
	  dataset interface to facilitate serialization.

	* graph/gog-chart.c (gog_chart_get_property) : new.  Needed a way to
	  signal that the cardinality had changed, and a read only property
	  with a notify handler seemed cleaner than a stand alone signal.
	  Looking back at that decision, it seems ugly.  Might revisit this
	  later.

	* graph/gog-axis.c : hook up the dataset interface to prepare for
	 serializing all the flags.

	* graph/go-data-impl.h (GOData) : extend interface to require a
	  'from_str' operation to allow serialization to xml.
	* graph/go-data.c (go_data_from_str) : wrapper.

	* graph/Makefile.am : Add gog-object-xml.[ch]

2003-06-14    Jean Brefort <jean.brefort@ac-dijon.fr>

	* graph/gog-style.c (gog_style_editor): move a bad placed g_signal_connect
	* graph/gog-style.c (gog_style_copy): duplicate filename if useful
	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_draw_polygon):
	  added missing white spaces (purely cosmetic)
	* graph/gog-renderer-pixbuf.c (go_color_to_artpix): removed static
	* graph/gog-renderer-gnome-print.c (gog_renderer_gnome_print_draw_polygon):
	  added image and gradient support

2003-06-13  Jon K Hellan  <hellan@acm.org>

	* graph/gog-style.c (gog_style_editor) : Use the new 
	color_combo_set_instant_apply flag.

2003-06-12  Jody Goldberg <jody@gnome.org>

	* graph/goffice-graph.h : remove POSITION_FILL
	  It does no good to have random thought experiments floating around.

2003-06-12  Jody Goldberg <jody@gnome.org>

	* graph/gog-guru.c (graph_guru_type_selector_new) : add an accelerator
	  for the plot family selector.

2003-06-10  Jody Goldberg <jody@gnome.org>

	* graph/gog-view.c (gog_view_size_allocate) : Use the new debug macro.
	(cb_model_changed) : ditto.
	* graph/gog-object.c (gog_object_update) : and here.

	* graph/goffice-graph.h : Add trivial d() debugging macro so that
	  normal folk don't get deluged with debug spew.
	* graph/lib.c : store goffice_graph_debug_level here.

	* graph/gog-renderer-gnome-print.c * (gog_renderer_gnome_print_draw_text) :
	  implement trivial version.  Need to decide how to handle fonts.

2003-06-10  Jody Goldberg <jody@gnome.org>

	* graph/plugins/plot_pie/gog-pie.c (gog_pie_series_update) :
	  handle series before they are valid.
	* graph/plugins/plot_barcol/gog-barcol.c (gog_barcol_series_update) : ditto.

	* graph/gog-object.c (gog_object_set_parent) : call the role's
	  post_add routine then objects parent_changed before signaling its
	  addition.
	(gog_object_add_by_role) : set_parent calls the role functions, not us.

2003-06-07    Jean Brefort <jean.brefort@ac-dijon.fr>

	* graph/gog-style.c (gog_style_editor) :
	* graph/gog-style.h (struct _GogStyle) :
	* graph/gog-style-prefs.glade :
	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_draw_polygon) : Start work on image

2003-06-07  Jody Goldberg <jody@gnome.org>

	* Release 1.1.19

2003-06-07  Jody Goldberg <jody@gnome.org>

	* Release 1.1.18

2003-06-07  Jody Goldberg <jody@gnome.org>

	* graph/gog-view.c (gog_view_queue_resize) : invalidate the allocation
	  too if there is no parent.

2003-06-06  Jody Goldberg <jody@gnome.org>

	* graph/gog-chart.c (gog_chart_set_position) : simplify.
	* graph/gog-graph.c (gog_graph_validate_chart_layout) : new.

	* graph/gog-guru.c (cb_sample_pressed) : set the zoom here.
	(cb_sample_released) : and unset it here so that the icons don't get
	  shrunk.

2003-06-04  J.H.M. Dassen (Ray) <jdassen@debian.org>

	* graph/gog-style.h: Fixed include of command-context.h to make it work
	for builds outside the source dir.

2003-06-04  Jody Goldberg <jody@gnome.org>

	* graph/gog-object.c (gog_object_generate_name) : return NULL, not FALSE

2003-06-03  J.H.M. Dassen (Ray) <jdassen@debian.org>

	* graph/gog-guru.h: Fixed include of command-context.h to make it work
	for builds outside the source dir.

2003-06-02  Jody Goldberg <jody@gnome.org>

	* graph/gog-legend.c (cb_render_elements) : quick and dirty draw the
	  text.  Still lots of work needed to measure things properly and do a
	  more dynamic layout.

	* graph/gog-guru.c (cb_typesel_sample_plot_resize) : use the canvas zoom
	(cb_sample_plot_resize) : ditto.
	(graph_guru_init_format_page) : ditto.
	(graph_guru_type_selector_new) : ditto.

	* graph/gog-renderer-pixbuf.c (make_layout) : new.
	(gog_renderer_pixbuf_draw_text) : new. simple handler no rotation yet.
	(gog_renderer_pixbuf_measure_text) : new.
	(gog_art_renderer_new) : new utility.
	(gog_renderer_pixbuf_draw_polygon) : used here.

	* graph/gog-control-foocanvas.c (gog_control_foocanvas_draw) : another
	  speed up by using regions rather tha nthe bounding rect of the expose.
	  Thanks to AlexL for pointing out that this will help us when
	  multiple exposes are compressed into 1 event and we do better to
	  clip against the distinct sub regions, than the bounding box of all
	  of them.
	(gog_control_foocanvas_update) : make life easier and pass the zoom to
	  the renderer.

2003-06-02  Jody Goldberg <jody@gnome.org>

	* graph/gog-style.c : minor warning suppression and format style
	  tidying.

2003-06-01  Jean Brefort <jean.brefort@ac-dijon.fr>
	* graph/gog-style.h : new gradient styles,
		fill type accessible only if GOG_STYLE_FILL is used
	* graph/gog-style.c : Enhanced gradient selector
	* graph/gog-renderer-pixbuf.c : Support for new gradient types
	* graph/gog-themes.c : Top to bottom gradient in Guppi theme

2003-05-31  Jody Goldberg <jody@gnome.org>

	For Jean Brefort <jean.brefort@ac-dijon.fr>
	* graph/gog-style.c (gog_style_editor) : Start work on gradient
	  selector.

2003-05-31  Jody Goldberg <jody@gnome.org>

	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_update) : fix
	  canvas warnings about tryingto queue an update from an update
	  handler.

2003-05-30  Jody Goldberg <jody@gnome.org>

	* graph/gog-theme.c (gog_themes_init) : make default them fill legend
	  with white.

	* graph/plugins/plot_barcol/gog-barcol.c (barcol_draw_rect) : smooth
	  the anti-aliasing fuzziness in the libart backend for hairline
	  outlines.

	* graph/gog-chart.c (gog_chart_view_size_allocate) : support
	  positions of NE, NW, SE, SW so that we can handle XL's 'corner'
	  legends.

	* graph/gog-control-foocanvas.c (gog_control_foocanvas_draw) : big
	  speed win.  Only draw the piece of the chart that was exposed.

	* graph/gog-plot.c (gog_plot_request_cardinality_update) : we may add
	  a series before assigning to a chart.

	* graph/gog-theme.c (gog_themes_init) : default and guppi themes were
	  inverted for legends.

	* graph/gog-chart.c (gog_chart_class_init) : default to centering
	  legends.

2003-05-30  Jody Goldberg <jody@gnome.org>

	* graph/gog-chart.c (gog_chart_view_render) : re-enable.

	* graph/gog-renderer-pixbuf.c (gog_renderer_pixbuf_update) :
	  When the scale changes size requests are invalidated.

	* graph/gog-renderer.c (gog_renderer_invalidate_size_requests) : new.
	* graph/gog-view.c (gog_view_invalidate_sizes) : new.

	* graph/gog-legend.c (gog_legend_view_render) : typo.  pad is in Y
	  coordinates.

	* graph/gog-plot.c (role_series_post_add) : adding a series changes
	  the cardinality.
	(role_series_pre_remove) : ditto.
	(gog_plot_update) : delete.  Already handled at the chart level.
	(gog_plot_init) : Make sure cardinailty is initially valid so that we
	  queue an an update request as necessary when it really
	  does change.

	* graph/gog-chart.c (gog_chart_view_size_allocate) : support the
	  alignment flags and enforce clipping.
	(role_plot_post_add) : adding a plot changes the cardinality.
	(role_plot_pre_remove) : ditto.
	(gog_chart_init) : Make sure cardinailty is initially valid so that we
	  queue an an update request as necessary when it really
	  does change.

2003-05-29  Jody Goldberg <jody@gnome.org>

	* graph/gog-renderer.c (gog_renderer_outline_size) : keep widths >= 1

	* graph/plugins/plot_barcol/gog-barcol.c (barcol_draw_rect) : clip to
	  integer sizes to decrease amount of bleed through due to antialiasing.

2003-05-27  Jody Goldberg <jody@gnome.org>

	* graph/gog-legend.c : make the swatch sizes properties.

	* graph/gog-guru.c (cb_typesel_sample_plot_resize) : fix sizing.
	(cb_sample_plot_resize) : ditto.

	* graph/gog-renderer.c (gog_renderer_set_property) : doh!
	  set the values if they are _different_ not the same.

2003-05-26  Jody Goldberg <jody@gnome.org>

	* graph/gog-guru.c (graph_guru_set_page) : we can't run the
	  typeselector without a chart selected.
	(cb_graph_guru_add_plot) : the child_added handler already populates
	  things.
	(cb_find_child_added) : It may happen that something else will add an
	  item while we're editing, and the change of focus may not be
	  welcome,  However, it is far more likely that we just added it.

	* graph/gog-object.c (gog_object_is_deletable) : don't let the guru
	  delete the top level graph.

	* graph/gog-guru.glade : Add border to the menu bar to align it with
	  the scrolled window.
	Add a 'Precedence' menu.

2003-05-25  Jody Goldberg <jody@gnome.org>

	The code is in CVS time to start keeping a changelog.
